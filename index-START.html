<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Piano</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="keys">
    <div data-key="49" class="key">
      <kbd>1</kbd>
      <span class="sound">Do</span>
    </div>
    <div data-key="50" class="key">
      <kbd>2</kbd>
      <span class="sound">Re</span>
    </div>
    <div data-key="51" class="key">
      <kbd>3</kbd>
      <span class="sound">Mi</span>
    </div>
    <div data-key="52" class="key">
      <kbd>4</kbd>
      <span class="sound">Fa</span>
    </div>

    <div data-key="53" class="key">
      <kbd>5</kbd>
      <span class="sound">Sol</span>
    </div>
    <div data-key="54" class="key">
      <kbd>6</kbd>
      <span class="sound">La</span>
    </div>
    <div data-key="55" class="key">
      <kbd>7</kbd>
      <span class="sound">Si</span>
    </div>
    <div data-key="56" class="key">
      <kbd>8</kbd>
      <span class="sound">#Do</span>
    </div>
  </div>

  <audio data-key="49" src="sounds/notes-align-100ms/442980__pacway__do-c.m4a"></audio>
  <audio data-key="50" src="sounds/notes-align-100ms/442983__pacway__re-d.m4a"></audio>
  <audio data-key="51" src="sounds/notes-align-100ms/442977__pacway__mi-e.m4a"></audio>
  <audio data-key="52" src="sounds/notes-align-100ms/442979__pacway__fa-f.m4a"></audio>
  <audio data-key="53" src="sounds/notes-align-100ms/442981__pacway__sol-g.m4a"></audio>
  <audio data-key="54" src="sounds/notes-align-100ms/442978__pacway__la-a.m4a"></audio>
  <audio data-key="55" src="sounds/notes-align-100ms/442982__pacway__si-b.m4a"></audio>
  <audio data-key="56" src="sounds/notes-align-100ms/442984__pacway__octave-do-c.m4a"></audio>



  <script>
    const playSound = (e) => {
      const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`)
      console.log(audio)
      const key = document.querySelector(`.key[data-key="${e.keyCode}"]`)
      console.log(key)
      if (!audio) return;
      audio.currentTime = 0
      audio.play()
      key.classList.add('playing')
    }
    const removeTransition = (e) => {
      if (e.propertyName !== 'transform') return
      // console.log(e.propertyName)
      e.target.classList.remove('playing')
    }


    window.addEventListener('keydown', playSound)
    const keys = document.querySelectorAll('.key')
    keys.forEach(key => key.addEventListener('transitionend', removeTransition))




  </script>


</body>

</html>